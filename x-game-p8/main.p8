pico-8 cartridge // http://www.pico-8.com
version 42
__lua__
function _init()
	printh("--init")
	init_lvl()
end

function _update60()
	local dir = (btn(0) and vec(-1, 0)) or
		(btn(1) and vec(1, 0)) or
		(btn(2) and vec(0, -1)) or
		(btn(3) and vec(0, 1)) or nil
	
	if dir and not p.m then
		if (not p.dir) or (not vec_eq(dir, p.dir)) then
			p.dir = dir
		else
			sfx(0)
			start_move(p)
		end
	end
	update_lvl()
end
	
function _draw()
	draw_lvl()
end

-->8
--level


__gfx__
00000000007777006666666605050505666666668880000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000077777706666666650505050655665564000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700077777706655556605050505655665560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000078778706656656650505050655665560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000077777706656656605050505655665560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700702222076655556650505050655665560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002222006666666605050505655665560000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000002002006666666650505050666666660000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888000804444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000887800084444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888700084444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000088888804444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000808888884444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000888888884444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000008008804444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000080000804444444400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0202020202020202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0201000400000000000002000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200020202000202020202000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202110000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000202000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200020202000202000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0200000000000000000200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0202020202020202020200000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
